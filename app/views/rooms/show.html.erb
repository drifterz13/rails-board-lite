<div class="w-96 shadow bg-base-100">
  <div class="h-16 px-6 py-4 border-b-2 border-base-300">
    <div class="font-semibold text-gray-700">
      <%= @room.title %>
    </div>
  </div>
  <div class="min-h-[400px] px-10 py-7">
    <% @room.messages.each do |message| %>
      <div class="<%= message_class_by(message) %>">
        <div class="chat-header mb-1">
          <%= current_user.email.split('@').first.capitalize  %>
          <time class="text-xs opacity-50"><%= time_ago_in_words(message.created_at) %></time>
        </div>
        <div class="chat-bubble chat-bubble-primary"><%= message.body %></div>
      </div>
    <% end %>
  </div>
  <%= form_with model: [@room, @message], data: { controller: "form", action: "turbo:submit-end->form#reset" } do |f| %>
    <div class="flex h-12">
      <%= f.text_field :body, data: { "form-target": "input" }, placeholder: "Enter Message", class: "w-full border bg-base-200 px-4 py-2 focus:ring-2 focus:ring-primary focus-visible:outline-none" %>
      <%= f.submit "Send", class: "btn rounded-none" %>
    </div>
  <% end %>
</div>
<%= link_to "Edit Room", edit_room_path, class: "link" %>
<%= button_to "Delete Room", @room, method: :delete, class: "link link-error" %>
